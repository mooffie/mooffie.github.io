<style type="text/css">
.syn_background {
  padding: 0.5em 0.5em;
}
.syn_color_E4E3ED_background_8E93A5 { color: E4E3ED; background-color: 8E93A5 }
.syn_color_AA5500 { color: #AA5500 }
.syn_color_000000_background_4C84CD { color: 000000; background-color: 4C84CD }
.syn_color_FFFFFF { color: #FFFFFF }
.syn_color_000000_background_AFBAD8_text_decoration_underline { color: 000000; background-color: AFBAD8; text-decoration: underline }
.syn_color_FFFF55 { color: #FFFF55 }
.syn_color_000000_background_F1F0F6 { color: 000000; background-color: F1F0F6 }
.syn_background { color: inherit; background-color: inherit }
.syn_color_000000_background_E4E3ED { color: 000000; background-color: E4E3ED }
.syn_color_55FF55 { color: #55FF55 }
.syn_color_AAAAAA { color: #AAAAAA }
.syn_color_00AA00 { color: #00AA00 }
.syn_color_00AAAA { color: #00AAAA }
.syn_color_000000_background_CBD1E1 { color: 000000; background-color: CBD1E1 }
.syn_color_000000_background_81A7D9 { color: 000000; background-color: 81A7D9 }

</style>
<pre class="syn_background"><span class="syn_color_000000_background_4C84CD">size-calculator.lua   [B---] 37 L:[ 46+17  63/124] *(1762/3363b) 0097 0x061                   [↕][✕]
</span><span class="syn_color_000000_background_F1F0F6">     46 </span><span class="syn_color_000000_background_E4E3ED">                                                                        </span><span class="syn_color_000000_background_F1F0F6">                    
     47 </span><span class="syn_color_AA5500">-- Sh</span><span class="syn_color_000000_background_CBD1E1">ows the dialog.</span><span class="syn_color_000000_background_E4E3ED">                                                    </span><span class="syn_color_000000_background_F1F0F6">                    
     48 </span><span class="syn_color_000000_background_CBD1E1">--</span><span class="syn_color_000000_background_E4E3ED">                                                                      </span><span class="syn_color_000000_background_F1F0F6">                    
     49 </span><span class="syn_color_000000_background_CBD1E1">-- Possible 'opts': use_coma, add_oth</span><span class="syn_color_AA5500">er_panel.</span><span class="syn_color_000000_background_E4E3ED">                          </span><span class="syn_color_000000_background_F1F0F6">                    
     50 </span><span class="syn_color_AA5500">--</span><span class="syn_color_000000_background_E4E3ED">                                                                      </span><span class="syn_color_000000_background_F1F0F6">                    
     51 </span><span class="syn_color_FFFFFF">local</span><span class="syn_color_AAAAAA"> </span><span class="syn_color_FFFFFF">function</span><span class="syn_color_AAAAAA"> show_dialog</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">total</span><span class="syn_color_FFFFFF">,</span><span class="syn_color_AAAAAA"> opts</span><span class="syn_color_FFFFFF">)</span><span class="syn_color_000000_background_E4E3ED">                                 </span><span class="syn_color_000000_background_F1F0F6">                    
     52 </span><span class="syn_color_000000_background_E4E3ED">                                                                        </span><span class="syn_color_000000_background_F1F0F6">                    
     53 </span><span class="syn_color_AAAAAA">  </span><span class="syn_color_FFFFFF">local</span><span class="syn_color_AAAAAA"> fmt </span><span class="syn_color_FFFFFF">=</span><span class="syn_color_AAAAAA"> </span><span class="syn_color_FFFFFF">function(</span><span class="syn_color_AAAAAA">n</span><span class="syn_color_FFFFFF">)</span><span class="syn_color_AAAAAA"> </span><span class="syn_color_FFFFFF">return</span><span class="syn_color_AAAAAA"> opts</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">use_comma </span><span class="syn_color_FFFFFF">and</span><span class="syn_color_AAAAAA"> locale</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">format_number</span><span class="syn_color_000000_background_F1F0F6">(n) or n end        
     54 </span><span class="syn_color_AAAAAA">  </span><span class="syn_color_FFFFFF">local</span><span class="syn_color_AAAAAA"> r </span><span class="syn_color_FFFFFF">=</span><span class="syn_color_AAAAAA"> utils</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">text</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">round</span><span class="syn_color_000000_background_E4E3ED">                                            </span><span class="syn_color_000000_background_F1F0F6">                    
     55 </span><span class="syn_color_000000_background_E4E3ED">                                                                        </span><span class="syn_color_000000_background_F1F0F6">                    
*    56 </span><span class="syn_color_000000_background_81A7D9">  local dlg = ui.Dialog(T"Size calculator")                             </span><span class="syn_color_000000_background_F1F0F6">                    
     57 </span><span class="syn_color_000000_background_E4E3ED">                                                                        </span><span class="syn_color_000000_background_F1F0F6">                    
     58 </span><span class="syn_color_AAAAAA">  dlg</span><span class="syn_color_FFFFFF">:</span><span class="syn_color_AAAAAA">add</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">ui</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">HBox</span><span class="syn_color_FFFFFF">{</span><span class="syn_color_AAAAAA">expandx</span><span class="syn_color_FFFFFF">=true}:</span><span class="syn_color_AAAAAA">add</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_000000_background_E4E3ED">                                    </span><span class="syn_color_000000_background_F1F0F6">                    
     59 </span><span class="syn_color_AAAAAA">    ui</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">Space</span><span class="syn_color_FFFFFF">{</span><span class="syn_color_AAAAAA">expandx</span><span class="syn_color_FFFFFF">=true},</span><span class="syn_color_AAAAAA">  </span><span class="syn_color_AA5500">-- The purpose of the two expanded Space wi</span><span class="syn_color_000000_background_F1F0F6">dgets at            
     60 </span><span class="syn_color_AAAAAA">                             </span><span class="syn_color_AA5500">-- both sides is to horizontally center the</span><span class="syn_color_000000_background_F1F0F6"> groupboxes.        
     61 </span><span class="syn_color_AAAAAA">    ui</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">Groupbox</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_00AAAA">T</span><span class="syn_color_00AA00">"1024 based"</span><span class="syn_color_FFFFFF">):</span><span class="syn_color_AAAAAA">add</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_000000_background_E4E3ED">                                     </span><span class="syn_color_000000_background_F1F0F6">                    
     62 </span><span class="syn_color_AAAAAA">      ui</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">Label</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_00AAAA">T</span><span class="syn_color_00AA00">"</span><span class="syn_color_55FF55">%s</span><span class="syn_color_00AA00"> bytes"</span><span class="syn_color_FFFFFF">:</span><span class="syn_color_AAAAAA">format</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">fmt</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">total</span><span class="syn_color_FFFFFF">))),</span><span class="syn_color_000000_background_E4E3ED">                         </span><span class="syn_color_000000_background_F1F0F6">                    
     63 </span><span class="syn_color_AAAAAA">      ui</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">Label</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_00AAAA">T</span><span class="syn_color_00AA00">"</span><span class="syn_color_55FF55">%s</span><span class="syn_color_00AA00"> KiB"</span><span class="syn_color_FFFFFF">:</span><span class="syn_color_AAAAAA">format</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">fmt</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_FFFF55">math.ceil</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">total </span><span class="syn_color_FFFFFF">/</span><span class="syn_color_AAAAAA"> 1024</span><span class="syn_color_FFFFFF">)))),</span><span class="syn_color_000000_background_E4E3ED">         </span><span class="syn_color_000000_background_F1F0F6">                    
     64 </span><span class="syn_color_AAAAAA">      ui</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">Label</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_00AAAA">T</span><span class="syn_color_00AA00">"</span><span class="syn_color_55FF55">%s</span><span class="syn_color_00AA00"> MiB"</span><span class="syn_color_FFFFFF">:</span><span class="syn_color_AAAAAA">format</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">fmt</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">r</span><span class="syn_color_000000_background_CBD1E1">╔══════════╗</span><span class="syn_color_AAAAAA">4 </span><span class="syn_color_FFFFFF">/</span><span class="syn_color_AAAAAA"> 1024</span><span class="syn_color_FFFFFF">,</span><span class="syn_color_AAAAAA"> 2</span><span class="syn_color_FFFFFF">)))),</span><span class="syn_color_000000_background_E4E3ED">       </span><span class="syn_color_000000_background_F1F0F6">                    
     65 </span><span class="syn_color_000000_background_4C84CD">      ui.Label(T"%s GiB":format(fmt(r</span><span class="syn_color_000000_background_CBD1E1">║ </span><span class="syn_color_000000_background_AFBAD8_text_decoration_underline">marked  </span><span class="syn_color_000000_background_CBD1E1"> ║</span><span class="syn_color_000000_background_4C84CD">4 / 1024 / 1024, 2)))) </span><span class="syn_color_000000_background_F1F0F6">                    
     66 </span><span class="syn_color_AAAAAA">    </span><span class="syn_color_FFFFFF">),</span><span class="syn_color_000000_background_E4E3ED">                               </span><span class="syn_color_000000_background_CBD1E1">║ midnight ║</span><span class="syn_color_000000_background_E4E3ED">                       </span><span class="syn_color_000000_background_F1F0F6">                    
     67 </span><span class="syn_color_AAAAAA">    ui</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">Groupbox</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_00AAAA">T</span><span class="syn_color_00AA00">"1000 based (SI)"</span><span class="syn_color_FFFFFF">):</span><span class="syn_color_AAAAAA">a</span><span class="syn_color_000000_background_CBD1E1">║ mark     ║</span><span class="syn_color_000000_background_E4E3ED">                       </span><span class="syn_color_000000_background_F1F0F6">                    
     68 </span><span class="syn_color_AAAAAA">      ui</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">Label</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_00AAAA">T</span><span class="syn_color_00AA00">"</span><span class="syn_color_55FF55">%s</span><span class="syn_color_00AA00"> bytes"</span><span class="syn_color_FFFFFF">:</span><span class="syn_color_AAAAAA">format</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">fmt</span><span class="syn_color_000000_background_CBD1E1">║ media    ║</span><span class="syn_color_000000_background_E4E3ED">                       </span><span class="syn_color_000000_background_F1F0F6">                    
     69 </span><span class="syn_color_AAAAAA">      ui</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">Label</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_00AAAA">T</span><span class="syn_color_00AA00">"</span><span class="syn_color_55FF55">%s</span><span class="syn_color_00AA00"> kB"</span><span class="syn_color_FFFFFF">:</span><span class="syn_color_AAAAAA">format</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">fmt</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_FFFF55">ma</span><span class="syn_color_000000_background_CBD1E1">╚══════════╝</span><span class="syn_color_AAAAAA">l </span><span class="syn_color_FFFFFF">/</span><span class="syn_color_AAAAAA"> 1000</span><span class="syn_color_FFFFFF">)))),</span><span class="syn_color_AAAAAA">  </span><span class="syn_color_AA5500">-- "kB" </span><span class="syn_color_000000_background_F1F0F6">is no spelling mista
     70 </span><span class="syn_color_AAAAAA">      ui</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">Label</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_00AAAA">T</span><span class="syn_color_00AA00">"</span><span class="syn_color_55FF55">%s</span><span class="syn_color_00AA00"> MB"</span><span class="syn_color_FFFFFF">:</span><span class="syn_color_AAAAAA">format</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">fmt</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">r</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">total </span><span class="syn_color_FFFFFF">/</span><span class="syn_color_AAAAAA"> 1000 </span><span class="syn_color_FFFFFF">/</span><span class="syn_color_AAAAAA"> 1000</span><span class="syn_color_FFFFFF">,</span><span class="syn_color_AAAAAA"> 2</span><span class="syn_color_FFFFFF">)))),</span><span class="syn_color_000000_background_E4E3ED">        </span><span class="syn_color_000000_background_F1F0F6">                    
     71 </span><span class="syn_color_AAAAAA">      ui</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">Label</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_00AAAA">T</span><span class="syn_color_00AA00">"</span><span class="syn_color_55FF55">%s</span><span class="syn_color_00AA00"> GB"</span><span class="syn_color_FFFFFF">:</span><span class="syn_color_AAAAAA">format</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">fmt</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">r</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">total </span><span class="syn_color_FFFFFF">/</span><span class="syn_color_AAAAAA"> 1000 </span><span class="syn_color_FFFFFF">/</span><span class="syn_color_AAAAAA"> 1000 </span><span class="syn_color_FFFFFF">/</span><span class="syn_color_AAAAAA"> 1000</span><span class="syn_color_FFFFFF">,</span><span class="syn_color_AAAAAA"> 2</span><span class="syn_color_FFFFFF">))))</span><span class="syn_color_000000_background_E4E3ED">  </span><span class="syn_color_000000_background_F1F0F6">                    
     72 </span><span class="syn_color_AAAAAA">    </span><span class="syn_color_FFFFFF">),</span><span class="syn_color_000000_background_E4E3ED">                                                                  </span><span class="syn_color_000000_background_F1F0F6">                    
     73 </span><span class="syn_color_AAAAAA">    ui</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">Space</span><span class="syn_color_FFFFFF">{</span><span class="syn_color_AAAAAA">expandx</span><span class="syn_color_FFFFFF">=true}</span><span class="syn_color_000000_background_E4E3ED">                                              </span><span class="syn_color_000000_background_F1F0F6">                    
</span><span class="syn_color_E4E3ED_background_8E93A5"> 1</span><span class="syn_color_000000_background_81A7D9">Help    </span><span class="syn_color_E4E3ED_background_8E93A5"> 2</span><span class="syn_color_000000_background_81A7D9">Save    </span><span class="syn_color_E4E3ED_background_8E93A5"> 3</span><span class="syn_color_000000_background_81A7D9">Mark    </span><span class="syn_color_E4E3ED_background_8E93A5"> 4</span><span class="syn_color_000000_background_81A7D9">Replac  </span><span class="syn_color_E4E3ED_background_8E93A5"> 5</span><span class="syn_color_000000_background_81A7D9">Copy    </span><span class="syn_color_E4E3ED_background_8E93A5"> 6</span><span class="syn_color_000000_background_81A7D9">Move    </span><span class="syn_color_E4E3ED_background_8E93A5"> 7</span><span class="syn_color_000000_background_81A7D9">Search  </span><span class="syn_color_E4E3ED_background_8E93A5"> 8</span><span class="syn_color_000000_background_81A7D9">Delete  </span><span class="syn_color_E4E3ED_background_8E93A5"> 9</span><span class="syn_color_000000_background_81A7D9">PullDn  </span><span class="syn_color_E4E3ED_background_8E93A5">10</span><span class="syn_color_000000_background_81A7D9">Quit    
</span></pre>
