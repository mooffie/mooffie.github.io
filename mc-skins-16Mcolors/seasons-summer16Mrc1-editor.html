<style type="text/css">
.syn_background {
  padding: 0.5em 0.5em;
}
.syn_color_000000_background_F864F6 { color: #000000; background-color: #F864F6 }
.syn_color_000000_background_F864F6_text_decoration_underline { color: #000000; background-color: #F864F6; text-decoration: underline }
.syn_color_AA5500 { color: #AA5500 }
.syn_color_000000_background_A7F25A { color: #000000; background-color: #A7F25A }
.syn_color_FFFFFF { color: #FFFFFF }
.syn_color_FFFF55 { color: #FFFF55 }
.syn_color_55FF55 { color: #55FF55 }
.syn_color_00AA00 { color: #00AA00 }
.syn_background { color: inherit; background-color: inherit }
.syn_color_00AAAA { color: #00AAAA }
.syn_color_000000_background_F4FF83 { color: #000000; background-color: #F4FF83 }
.syn_color_AAAAAA { color: #AAAAAA }
.syn_color_000000_background_FFEDB3 { color: #000000; background-color: #FFEDB3 }
.syn_color_000000_background_FFF5D5 { color: #000000; background-color: #FFF5D5 }
.syn_color_000000_background_46CEF3 { color: #000000; background-color: #46CEF3 }
.syn_color_000000_background_D9B64A { color: #000000; background-color: #D9B64A }

</style>
<pre class="syn_background"><span class="syn_color_000000_background_46CEF3">size-calculator.lua   [B---] 37 L:[ 46+17  63/124] *(1762/3363b) 0097 0x061                   [↕][✕]
</span><span class="syn_color_000000_background_FFF5D5">     46 </span><span class="syn_color_000000_background_FFEDB3">                                                                        </span><span class="syn_color_000000_background_FFF5D5">                    
     47 </span><span class="syn_color_AA5500">-- Sh</span><span class="syn_color_000000_background_D9B64A">ows the dialog.</span><span class="syn_color_000000_background_FFEDB3">                                                    </span><span class="syn_color_000000_background_FFF5D5">                    
     48 </span><span class="syn_color_000000_background_D9B64A">--</span><span class="syn_color_000000_background_FFEDB3">                                                                      </span><span class="syn_color_000000_background_FFF5D5">                    
     49 </span><span class="syn_color_000000_background_D9B64A">-- Possible 'opts': use_coma, add_oth</span><span class="syn_color_AA5500">er_panel.</span><span class="syn_color_000000_background_FFEDB3">                          </span><span class="syn_color_000000_background_FFF5D5">                    
     50 </span><span class="syn_color_AA5500">--</span><span class="syn_color_000000_background_FFEDB3">                                                                      </span><span class="syn_color_000000_background_FFF5D5">                    
     51 </span><span class="syn_color_FFFFFF">local</span><span class="syn_color_AAAAAA"> </span><span class="syn_color_FFFFFF">function</span><span class="syn_color_AAAAAA"> show_dialog</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">total</span><span class="syn_color_FFFFFF">,</span><span class="syn_color_AAAAAA"> opts</span><span class="syn_color_FFFFFF">)</span><span class="syn_color_000000_background_FFEDB3">                                 </span><span class="syn_color_000000_background_FFF5D5">                    
     52 </span><span class="syn_color_000000_background_FFEDB3">                                                                        </span><span class="syn_color_000000_background_FFF5D5">                    
     53 </span><span class="syn_color_AAAAAA">  </span><span class="syn_color_FFFFFF">local</span><span class="syn_color_AAAAAA"> fmt </span><span class="syn_color_FFFFFF">=</span><span class="syn_color_AAAAAA"> </span><span class="syn_color_FFFFFF">function(</span><span class="syn_color_AAAAAA">n</span><span class="syn_color_FFFFFF">)</span><span class="syn_color_AAAAAA"> </span><span class="syn_color_FFFFFF">return</span><span class="syn_color_AAAAAA"> opts</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">use_comma </span><span class="syn_color_FFFFFF">and</span><span class="syn_color_AAAAAA"> locale</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">format_number</span><span class="syn_color_000000_background_FFF5D5">(n) or n end        
     54 </span><span class="syn_color_AAAAAA">  </span><span class="syn_color_FFFFFF">local</span><span class="syn_color_AAAAAA"> r </span><span class="syn_color_FFFFFF">=</span><span class="syn_color_AAAAAA"> utils</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">text</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">round</span><span class="syn_color_000000_background_FFEDB3">                                            </span><span class="syn_color_000000_background_FFF5D5">                    
     55 </span><span class="syn_color_000000_background_FFEDB3">                                                                        </span><span class="syn_color_000000_background_FFF5D5">                    
*    56 </span><span class="syn_color_000000_background_F4FF83">  local dlg = ui.Dialog(T"Size calculator")                             </span><span class="syn_color_000000_background_FFF5D5">                    
     57 </span><span class="syn_color_000000_background_FFEDB3">                                                                        </span><span class="syn_color_000000_background_FFF5D5">                    
     58 </span><span class="syn_color_AAAAAA">  dlg</span><span class="syn_color_FFFFFF">:</span><span class="syn_color_AAAAAA">add</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">ui</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">HBox</span><span class="syn_color_FFFFFF">{</span><span class="syn_color_AAAAAA">expandx</span><span class="syn_color_FFFFFF">=true}:</span><span class="syn_color_AAAAAA">add</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_000000_background_FFEDB3">                                    </span><span class="syn_color_000000_background_FFF5D5">                    
     59 </span><span class="syn_color_AAAAAA">    ui</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">Space</span><span class="syn_color_FFFFFF">{</span><span class="syn_color_AAAAAA">expandx</span><span class="syn_color_FFFFFF">=true},</span><span class="syn_color_AAAAAA">  </span><span class="syn_color_AA5500">-- The purpose of the two expanded Space wi</span><span class="syn_color_000000_background_FFF5D5">dgets at            
     60 </span><span class="syn_color_AAAAAA">                             </span><span class="syn_color_AA5500">-- both sides is to horizontally center the</span><span class="syn_color_000000_background_FFF5D5"> groupboxes.        
     61 </span><span class="syn_color_AAAAAA">    ui</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">Groupbox</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_00AAAA">T</span><span class="syn_color_00AA00">"1024 based"</span><span class="syn_color_FFFFFF">):</span><span class="syn_color_AAAAAA">add</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_000000_background_FFEDB3">                                     </span><span class="syn_color_000000_background_FFF5D5">                    
     62 </span><span class="syn_color_AAAAAA">      ui</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">Label</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_00AAAA">T</span><span class="syn_color_00AA00">"</span><span class="syn_color_55FF55">%s</span><span class="syn_color_00AA00"> bytes"</span><span class="syn_color_FFFFFF">:</span><span class="syn_color_AAAAAA">format</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">fmt</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">total</span><span class="syn_color_FFFFFF">))),</span><span class="syn_color_000000_background_FFEDB3">                         </span><span class="syn_color_000000_background_FFF5D5">                    
     63 </span><span class="syn_color_AAAAAA">      ui</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">Label</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_00AAAA">T</span><span class="syn_color_00AA00">"</span><span class="syn_color_55FF55">%s</span><span class="syn_color_00AA00"> KiB"</span><span class="syn_color_FFFFFF">:</span><span class="syn_color_AAAAAA">format</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">fmt</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_FFFF55">math.ceil</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">total </span><span class="syn_color_FFFFFF">/</span><span class="syn_color_AAAAAA"> 1024</span><span class="syn_color_FFFFFF">)))),</span><span class="syn_color_000000_background_FFEDB3">         </span><span class="syn_color_000000_background_FFF5D5">                    
     64 </span><span class="syn_color_AAAAAA">      ui</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">Label</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_00AAAA">T</span><span class="syn_color_00AA00">"</span><span class="syn_color_55FF55">%s</span><span class="syn_color_00AA00"> MiB"</span><span class="syn_color_FFFFFF">:</span><span class="syn_color_AAAAAA">format</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">fmt</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">r</span><span class="syn_color_000000_background_A7F25A">╔══════════╗</span><span class="syn_color_AAAAAA">4 </span><span class="syn_color_FFFFFF">/</span><span class="syn_color_AAAAAA"> 1024</span><span class="syn_color_FFFFFF">,</span><span class="syn_color_AAAAAA"> 2</span><span class="syn_color_FFFFFF">)))),</span><span class="syn_color_000000_background_FFEDB3">       </span><span class="syn_color_000000_background_FFF5D5">                    
     65 </span><span class="syn_color_000000_background_46CEF3">      ui.Label(T"%s GiB":format(fmt(r</span><span class="syn_color_000000_background_A7F25A">║ </span><span class="syn_color_000000_background_F864F6_text_decoration_underline">marked  </span><span class="syn_color_000000_background_A7F25A"> ║</span><span class="syn_color_000000_background_46CEF3">4 / 1024 / 1024, 2)))) </span><span class="syn_color_000000_background_FFF5D5">                    
     66 </span><span class="syn_color_AAAAAA">    </span><span class="syn_color_FFFFFF">),</span><span class="syn_color_000000_background_FFEDB3">                               </span><span class="syn_color_000000_background_A7F25A">║ midnight ║</span><span class="syn_color_000000_background_FFEDB3">                       </span><span class="syn_color_000000_background_FFF5D5">                    
     67 </span><span class="syn_color_AAAAAA">    ui</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">Groupbox</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_00AAAA">T</span><span class="syn_color_00AA00">"1000 based (SI)"</span><span class="syn_color_FFFFFF">):</span><span class="syn_color_AAAAAA">a</span><span class="syn_color_000000_background_A7F25A">║ mark     ║</span><span class="syn_color_000000_background_FFEDB3">                       </span><span class="syn_color_000000_background_FFF5D5">                    
     68 </span><span class="syn_color_AAAAAA">      ui</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">Label</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_00AAAA">T</span><span class="syn_color_00AA00">"</span><span class="syn_color_55FF55">%s</span><span class="syn_color_00AA00"> bytes"</span><span class="syn_color_FFFFFF">:</span><span class="syn_color_AAAAAA">format</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">fmt</span><span class="syn_color_000000_background_A7F25A">║ media    ║</span><span class="syn_color_000000_background_FFEDB3">                       </span><span class="syn_color_000000_background_FFF5D5">                    
     69 </span><span class="syn_color_AAAAAA">      ui</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">Label</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_00AAAA">T</span><span class="syn_color_00AA00">"</span><span class="syn_color_55FF55">%s</span><span class="syn_color_00AA00"> kB"</span><span class="syn_color_FFFFFF">:</span><span class="syn_color_AAAAAA">format</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">fmt</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_FFFF55">ma</span><span class="syn_color_000000_background_A7F25A">╚══════════╝</span><span class="syn_color_AAAAAA">l </span><span class="syn_color_FFFFFF">/</span><span class="syn_color_AAAAAA"> 1000</span><span class="syn_color_FFFFFF">)))),</span><span class="syn_color_AAAAAA">  </span><span class="syn_color_AA5500">-- "kB" </span><span class="syn_color_000000_background_FFF5D5">is no spelling mista
     70 </span><span class="syn_color_AAAAAA">      ui</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">Label</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_00AAAA">T</span><span class="syn_color_00AA00">"</span><span class="syn_color_55FF55">%s</span><span class="syn_color_00AA00"> MB"</span><span class="syn_color_FFFFFF">:</span><span class="syn_color_AAAAAA">format</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">fmt</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">r</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">total </span><span class="syn_color_FFFFFF">/</span><span class="syn_color_AAAAAA"> 1000 </span><span class="syn_color_FFFFFF">/</span><span class="syn_color_AAAAAA"> 1000</span><span class="syn_color_FFFFFF">,</span><span class="syn_color_AAAAAA"> 2</span><span class="syn_color_FFFFFF">)))),</span><span class="syn_color_000000_background_FFEDB3">        </span><span class="syn_color_000000_background_FFF5D5">                    
     71 </span><span class="syn_color_AAAAAA">      ui</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">Label</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_00AAAA">T</span><span class="syn_color_00AA00">"</span><span class="syn_color_55FF55">%s</span><span class="syn_color_00AA00"> GB"</span><span class="syn_color_FFFFFF">:</span><span class="syn_color_AAAAAA">format</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">fmt</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">r</span><span class="syn_color_FFFFFF">(</span><span class="syn_color_AAAAAA">total </span><span class="syn_color_FFFFFF">/</span><span class="syn_color_AAAAAA"> 1000 </span><span class="syn_color_FFFFFF">/</span><span class="syn_color_AAAAAA"> 1000 </span><span class="syn_color_FFFFFF">/</span><span class="syn_color_AAAAAA"> 1000</span><span class="syn_color_FFFFFF">,</span><span class="syn_color_AAAAAA"> 2</span><span class="syn_color_FFFFFF">))))</span><span class="syn_color_000000_background_FFEDB3">  </span><span class="syn_color_000000_background_FFF5D5">                    
     72 </span><span class="syn_color_AAAAAA">    </span><span class="syn_color_FFFFFF">),</span><span class="syn_color_000000_background_FFEDB3">                                                                  </span><span class="syn_color_000000_background_FFF5D5">                    
     73 </span><span class="syn_color_AAAAAA">    ui</span><span class="syn_color_FFFFFF">.</span><span class="syn_color_AAAAAA">Space</span><span class="syn_color_FFFFFF">{</span><span class="syn_color_AAAAAA">expandx</span><span class="syn_color_FFFFFF">=true}</span><span class="syn_color_000000_background_FFEDB3">                                              </span><span class="syn_color_000000_background_FFF5D5">                    
</span><span class="syn_color_000000_background_F864F6"> 1</span><span class="syn_color_000000_background_F4FF83">Help    </span><span class="syn_color_000000_background_F864F6"> 2</span><span class="syn_color_000000_background_F4FF83">Save    </span><span class="syn_color_000000_background_F864F6"> 3</span><span class="syn_color_000000_background_F4FF83">Mark    </span><span class="syn_color_000000_background_F864F6"> 4</span><span class="syn_color_000000_background_F4FF83">Replac  </span><span class="syn_color_000000_background_F864F6"> 5</span><span class="syn_color_000000_background_F4FF83">Copy    </span><span class="syn_color_000000_background_F864F6"> 6</span><span class="syn_color_000000_background_F4FF83">Move    </span><span class="syn_color_000000_background_F864F6"> 7</span><span class="syn_color_000000_background_F4FF83">Search  </span><span class="syn_color_000000_background_F864F6"> 8</span><span class="syn_color_000000_background_F4FF83">Delete  </span><span class="syn_color_000000_background_F864F6"> 9</span><span class="syn_color_000000_background_F4FF83">PullDn  </span><span class="syn_color_000000_background_F864F6">10</span><span class="syn_color_000000_background_F4FF83">Quit    
</span></pre>
